<!DOCTYPE HTML>

<html>
<head>
  <style>
    body {
      margin: 0px;
      padding: 0px;
      background-color:#333;
      color:#aac;
    }
  </style>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="howler.min.js"></script>
  <script src="Sound.js"></script>


</head>
<body>


  <!-- load sounds first?? -->
  <script>






    var x = 0;
    var y = 0;
    var playPause = "pause";
    var newVolume = 0;
    var w = 1;
    var h = 1;
    var soundAmerican;
    var soundLengthAmerican = 60 * 59; // manual
    var soundFortune;
    var soundLengthFortune = 60 * 3 + 48;
    var soundLucky;
    var soundLengthLucky = 60 * 2 + 56;

    

    // setup the sound objects
    var sounds = []; // the sound objects
    

    //$(document).ready(function() {
      var setupAllSounds = function() {
        console.log("in setupSounds!!!");
        w = $(document).width();
        h = $(document).height();    

      // setup the sounds

      
      //sounds.push(new Sound('fortune.mp3', 'fortune', 60 * 59 + 0));
      //sounds.push(new Sound('lucky.mp3', 'lucky', 60 * 59 + 0));
      sounds.push(new Sound('american.mp3', 'american', 60 * 59 + 0));

      // run the setup for the sounds
      for (var i = 0; i < sounds.length; i++) {
        sounds[i].setupSound();
      }

    };

    $(document).click(function() {
      for (var i = 0; i < sounds.length; i++) {
        sounds[i].startPlaying(120);
      }
    });


    function getVolume(yIn, target, range)  {
      var vol = 1;
      if (Math.abs(yIn - target) > range) vol = 0;
      else {
        vol = 1 - Math.abs(yIn - target) / range;
      }
        //console.log("vol as: " + vol + " for target: " + target + " and yIn: " + yIn + " and range" + range);;
        return vol;
     } // end getVolume



     var soundLoaded = function(name) {
      console.log("DID LOAD THE AUDIO " + name);
      setupAllSounds();
    }

    var snd = new Audio("american.mp3");
    snd.addEventListener('canplaythrough', soundLoaded("asdf"), false);
    snd.load();
    console.log("goodnight moon");

  </script>  
</body>
</html>      